"use strict";(self.webpackChunk_18comic_react=self.webpackChunk_18comic_react||[]).push([[838],{9144:(e,s,t)=>{t.d(s,{A:()=>p});var l=t(9379),a=t(5043),i=t(6580),n=t(7421),o=t(6687),c=t(7225),r=t(9484),d=t(7044),m=t(3944),x=t(7883),g=t(5090),h=t(4117),u=t(4694),f=t(579);const p=e=>{var s;const{setTabChange:t,filter:p,setFilter:v,currentPage:j,catList:b,subList:w,mode:N,setMode:k}=e,{config:y}=(0,m.H)(),{setting:A}=y,{t:_}=(0,h.Bd)(),[S,C]=(0,a.useState)({catMore:!1,imageSource:!1}),T={fontSize:20,stroke:"white",strokeWidth:1},L=(0,g.hz)(),R=[{icon:(0,f.jsx)(n.A,{sx:(0,l.A)({},T)}),onClick:()=>C((0,l.A)((0,l.A)({},S),{},{imageSource:!0}))},{icon:(0,f.jsx)(o.A,{sx:(0,l.A)({},T)}),link:"/blogs"},{icon:(0,f.jsx)(c.A,{sx:(0,l.A)({},T)}),link:"/week"},{icon:(0,f.jsx)(r.A,{sx:(0,l.A)({},T)}),link:"/search"}];return(0,f.jsxs)("header",{className:"sticky top-0 w-full bg-bbk text-white z-30",children:[(0,f.jsxs)("div",{className:"h-14 flex items-center",children:[(0,f.jsx)("div",{className:"flex w-6/12 pl-3",children:(0,f.jsx)(i.N_,{to:"/",children:(0,f.jsx)("img",{src:"/images/new_logo.webp",alt:"logo",width:"100px",height:"20px",className:"animation-click-item"})})}),(0,f.jsx)("div",{className:"text-white top-bar-icon flex w-6/12 justify-around",children:R.map(((e,s)=>(0,f.jsx)(i.N_,{to:e.link||"#",onClick:e.onClick,children:(0,f.jsx)("button",{className:"animation-click-item",children:e.icon})},s)))})]}),"categories"===j&&(null===(s=b.cat)||void 0===s?void 0:s.length)>0&&(0,f.jsxs)("div",{className:"text-tgy relative bg-nbk",children:[(0,f.jsxs)("div",{className:"h-10 w-11/12 flex items-center overflow-x-auto whitespace-nowrap pr-8",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[b.cat.map(((e,s)=>(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{title:e.name,className:"pl-4 ".concat(p.slug===e.slug?"text-og":""),onClick:()=>{v((0,l.A)((0,l.A)({},p),{},{tabChange:!0,slug:e.slug,sub_slug:"",sort:""})),t(!0)},children:e.name}),0===s&&(0,f.jsx)(i.N_,{to:"/library?from=categories",className:"pl-4",children:_("library.forbidden_comic_library")})]},e.slug))),(0,f.jsx)("div",{className:"bg-bbk p-1 absolute top-0 right-0",children:(0,f.jsx)(x.A,{sx:{fontSize:28,stroke:"#ff6f00",strokeWidth:1,color:"#ff6f00"},onClick:()=>C((0,l.A)((0,l.A)({},S),{},{catMore:!0}))})})]}),(0,f.jsx)("div",{className:"h-10 flex items-center",children:b.ranking.map((e=>(0,f.jsx)("span",{className:"pl-4 ".concat(p.sort===e.key?"text-og":""),onClick:()=>{v((0,l.A)((0,l.A)({},p),{},{sort:e.key})),t(!0)},children:e.title},e.key)))}),w.length>0&&(0,f.jsx)("div",{className:"h-10 flex items-center",children:w.map((e=>(0,f.jsx)("span",{className:"pl-4 ".concat(p.sub_slug===e.slug?"text-og":""),onClick:()=>{t(!0),v((0,l.A)((0,l.A)({},p),{},{sub_slug:e.slug}))},children:e.name},e.slug)))})]}),"forum"===j&&(0,f.jsx)("div",{className:"h-20 w-full text-tgy flex items-end py-2 bg-nbk z-50",children:L.map((e=>(0,f.jsxs)("div",{className:"relative px-4 text-lg cursor-pointer",onClick:()=>{t(!0),k(e.mode)},children:[(0,f.jsx)("p",{className:"transition-colors duration-300 ".concat(N===e.mode?"text-og pb-2":"pb-3"),children:e.tabName}),N===e.mode&&(0,f.jsx)(u.P.div,{className:"h-1 bg-og rounded",animate:{width:N===e.mode?"100%":"0%"},initial:{width:"0%"},transition:{type:"spring",stiffness:500,damping:30},style:{transformOrigin:"left"}})]},e.mode)))}),S.imageSource&&(0,f.jsx)(d.A,{setDialogOpen:C,dialogOpen:S,setting:A}),S.catMore&&(0,f.jsx)(d.A,{setDialogOpen:C,dialogOpen:S,catList:S.catMore?b:{},setFilter:v,filter:p})]})}},2028:(e,s,t)=>{t.d(s,{A:()=>n});var l=t(5043),a=t(2101),i=t(579);const n=()=>{const[e,s]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=()=>{window.scrollY>500?s(!0):s(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"w-14 h-14 rounded-full fixed bottom-[10rem] right-3 bg-og text-white z-50",children:(0,i.jsx)(a.A,{})})})}},5360:(e,s,t)=>{t.d(s,{A:()=>r});var l=t(9379),a=t(2130),i=t(6580),n=t(8038),o=t(9011),c=t(579);const r=e=>{const s=(0,i.Zp)(),t=(0,o.S0)(),{t:r,setting:d,list:m,isLoading:x,setDialogOpen:g,dialogOpen:h,logined:u,responds:f,setResponds:p,handleSendRespond:v,showReplySection:j}=e,b=e=>{const t=e.split("JM")[1];s("/comic/detail?id=".concat(t))};return(0,c.jsxs)(c.Fragment,{children:[(null===m||void 0===m?void 0:m.length)>0?m.map(((e,s)=>{var i,o,m,w;return(0,c.jsxs)("div",{className:"bg-defaultBg dark:bg-bk dark:text-tgy",children:[s>0&&s%7===0&&(0,c.jsx)("div",{className:"dark:bg-bk pt-4",children:(0,c.jsxs)("div",{className:"bg-white pt-4 p-2 dark:bg-bbk",children:[(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("img",{src:"".concat(null===d||void 0===d?void 0:d.img_host,"/media/users/nopic-Male.gif"),alt:"avatar"+s,onError:e=>{e.target.src="/images/ic_head.png"},className:"w-16 bg-gy rounded-full"}),(0,c.jsxs)("div",{className:"w-full ml-2",children:[(0,c.jsx)("p",{className:"text-og",children:r("forum.sponsor_JM")}),r("forum.LV100_click_to_save_forbidden_comics")]})]}),(0,c.jsxs)("div",{className:"w-full flex flex-row",children:[(0,c.jsx)("div",{className:"w-16 flex justify-start items-center"}),(0,c.jsx)("div",{className:"ml-2",children:t&&!x&&(0,c.jsx)(n.A,{adKey:"app_forum_middle"})})]})]})}),(0,c.jsx)("div",{className:"dark:bg-bk pt-4",children:(0,c.jsxs)("div",{className:"bg-white text-[#9f9e9e] p-4 dark:bg-bbk",children:[(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"w-16 flex justify-center",children:(0,c.jsx)("img",{src:"".concat(null===d||void 0===d?void 0:d.img_host,"/media/users/").concat(e.photo),alt:e.username,onError:e=>{e.target.src="/images/ic_head.png"},width:"100%",height:"100%",className:"w-14 h-14 bg-gy ".concat("nopic-Male.gif"!==e.photo?"rounded-full":"")})}),(0,c.jsxs)("div",{className:"w-full ml-2",children:[(0,c.jsxs)("p",{className:"text-og",children:[e.nickname||e.username,(0,c.jsxs)("span",{className:"text-[#9f9e9e]",children:["\xa0\xb7\xa0",null===(i=e.expinfo)||void 0===i?void 0:i.level_name]})]}),(null===(o=e.expinfo)||void 0===o?void 0:o.length)>0&&(0,c.jsxs)("div",{className:"w-full flex justify-between",children:[(0,c.jsx)("div",{className:"flex",children:null===(m=e.expinfo)||void 0===m?void 0:m.badges.map(((e,s)=>(0,c.jsx)("img",{src:"".concat(null===d||void 0===d?void 0:d.img_host).concat(decodeURIComponent(e.content)),alt:e.name,onError:e=>{e.target.src="/images/ic_head.png"},width:"100%",height:"auto",className:"w-7 h-7 mr-2 object-cover bg-gy"},s)))}),(0,c.jsx)("span",{className:"font-black",children:e.addtime})]})]})]}),(0,c.jsxs)("div",{className:"w-full flex flex-row",children:[(0,c.jsx)("div",{className:"w-16 flex justify-center pt-2",children:(0,c.jsxs)("p",{children:["Lv.",e.expinfo.level]})}),(0,c.jsxs)("div",{className:"w-10/12 ml-2 break-words",children:[(0,c.jsx)("div",{className:"text-bbk dark:text-tgy",dangerouslySetInnerHTML:{__html:e.content}}),(0,c.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,c.jsx)("div",{className:""}),(0,c.jsx)("button",{className:"float-right",onClick:()=>b(e.name),children:e.name})]})]})]}),(null===e||void 0===e||null===(w=e.replys)||void 0===w?void 0:w.length)>0?e.replys.map(((e,s)=>{var t;return(0,c.jsxs)("div",{className:"pl-2",children:[(0,c.jsxs)("div",{className:"flex mt-4",children:[(0,c.jsx)("div",{className:"w-16 flex justify-center items-center",children:(0,c.jsx)("img",{src:"".concat(null===d||void 0===d?void 0:d.img_host,"/media/users/").concat(e.photo),alt:e.username,onError:e=>{e.target.src="/images/ic_head.png"},width:"100%",height:"auto",className:"bg-gy w-10 h-10 ".concat("nopic-Male.gif"!==e.photo?"rounded-full":"")})}),(0,c.jsxs)("div",{className:"w-full ml-2",children:[(0,c.jsxs)("p",{className:"text-og",children:[e.nickname||e.username,(0,c.jsxs)("span",{className:"text-[#9f9e9e]",children:["\xa0\xb7\xa0",e.expinfo.level_name]})]}),(0,c.jsxs)("div",{className:"w-full flex justify-between",children:[(0,c.jsx)("div",{className:"flex",children:null===(t=e.expinfo)||void 0===t?void 0:t.badges.map(((e,s)=>(0,c.jsx)("img",{src:"".concat(null===d||void 0===d?void 0:d.img_host).concat(decodeURIComponent(e.content)),alt:e.name,onError:e=>{e.target.src="/images/ic_head.png"},width:"100%",height:"auto",className:"w-8 h-8 mr-2 bg-gy"},s)))}),(0,c.jsx)("span",{className:"font-black",children:e.addtime})]})]})]},s),(0,c.jsxs)("div",{className:"w-full flex flex-row",children:[(0,c.jsx)("div",{className:"w-16 flex justify-center pt-2",children:(0,c.jsxs)("p",{children:["Lv.",e.expinfo.level]})}),(0,c.jsxs)("div",{className:"w-10/12 ml-2 break-words",children:[(0,c.jsx)("div",{className:"text-bbk dark:text-tgy",dangerouslySetInnerHTML:{__html:e.content}}),(0,c.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,c.jsx)("div",{className:""}),(0,c.jsx)("button",{className:"float-right",onClick:()=>b(e.name),children:e.name})]})]})]})]},s)})):""]})}),j&&(0,c.jsxs)("div",{className:"py-4 flex items-center justify-center dark:bg-nbk",children:[(0,c.jsx)("input",{type:"text",placeholder:r("forum.give_response"),className:"w-10/12 h-10 rounded-lg p-2 border-none outline-none dark:bg-bbk",maxLength:200,value:f.activeIndex===s?f.reply:"",onChange:e=>{u?p((t=>(0,l.A)((0,l.A)({},t),{},{activeIndex:s,reply:e.target.value}))):g((0,l.A)((0,l.A)({},h),{},{login:!0}))}}),(0,c.jsx)("button",{className:"rounded-full ".concat(f.activeIndex===s&&""!==f.reply?"bg-og dark:bg-og":"bg-[#aaa] dark:bg-gy"," p-2 ml-2"),disabled:""===f.reply,onClick:()=>{v(f.reply,e.AID,e.CID)},children:(0,c.jsx)(a.A,{sx:{color:"white",fontSize:20,stroke:"white",strokeWidth:1}})})]})]},s)})):!x&&(0,c.jsx)("p",{className:"text-center my-10",children:r("forum.no_comments_yet")}),x&&(0,c.jsxs)("div",{className:"flex flex-col justify-center my-4",children:[(0,c.jsx)("img",{src:"/images/loading.gif",alt:"loading",width:"50px",className:"mx-auto"}),(0,c.jsx)("p",{className:"text-center text-gy",children:r("comic.loading")})]})]})}},787:(e,s,t)=>{t.d(s,{A:()=>p});var l=t(5043),a=t(6580),i=t(6148),n=t(9275),o=t(1500),c=t(6671),r=t(9354),d=t(8390),m=t(4149),x=t(4117),g=t(8038),h=t(1100),u=t(3944),f=t(579);const p=e=>{const{currentPage:s}=e,{config:{logined:t,ads:p}}=(0,u.H)(),{t:v}=(0,x.Bd)(),j=(0,i.j)(),{unread:b,notifResult:w}=(0,i.G)((e=>e.member)),N=sessionStorage.getItem("catTab")||"";(0,l.useEffect)((()=>{t&&0===Object.keys(b).length&&j((0,h.Zg)())}),[t,w]);const k=[{icon:(0,f.jsx)(n.A,{className:"text-3xl"}),nav:"main",label:v("nav.home"),link:"/"},{icon:(0,f.jsx)(o.A,{className:"text-3xl"}),nav:"categories",label:v("nav.categories"),link:"/categories?slug=".concat(N)},{icon:(0,f.jsx)(c.A,{className:"text-3xl"}),nav:"games",label:v("nav.game"),link:"/games"},{icon:(0,f.jsx)(r.A,{className:"text-3xl"}),nav:"movies",label:v("nav.movie"),link:"/movies"},{icon:(0,f.jsx)(d.A,{className:"text-3xl"}),nav:"forum",label:v("nav.forum"),link:"/forum"},{icon:(0,f.jsx)(m.A,{className:"text-3xl"}),nav:"member",label:v("nav.member"),link:"/member"}],[y,A]=(0,l.useState)(!1),_=(0,l.useRef)(null);return(0,f.jsxs)(f.Fragment,{children:["forum"!==s&&(0,f.jsx)("div",{ref:_,className:"fixed left-0 right-0 transition-all duration-300 ease-in-out ".concat(y?"bottom-[3rem]":"bottom-[4.5em]"),children:(0,f.jsx)(g.A,{adKey:"board1",closeBtn:!0,handleAdResize:()=>{A(!0)}})}),(0,f.jsx)("div",{className:"fixed bottom-0 left-0 right-0 w-full z-20",children:(0,f.jsx)("div",{className:"flex justify-around items-start bg-bbk text-gy z-50 min-h-[6rem] pt-3 overflow-hidden",children:k.map(((e,l)=>(0,f.jsxs)(a.N_,{to:e.link,className:"animation-click-item flex flex-col items-center relative ".concat(e.nav===s?"text-og":""),children:[(0,f.jsxs)("div",{className:"relative",children:[e.icon,t&&5===l&&b.comic_follow+b.site_notice>0&&(0,f.jsx)("span",{className:"absolute -top-1 -right-5 bg-red-600 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:b.comic_follow+b.site_notice})]}),(0,f.jsx)("span",{className:"text-center",children:e.label})]},l)))})})]})}},8838:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var l=t(9379),a=t(5043),i=t(6580),n=t(3944),o=t(6148),c=t(4117),r=t(319),d=t(5843),m=t(5874),x=t(9144),g=t(787),h=t(5360),u=t(5411),f=t(7044),p=t(7738),v=t(2873),j=t(223),b=t(7947),w=t(5090),N=t(5412),k=t(1299),y=t(2028),A=t(9011),_=t(579);const S=()=>{var e,s,t;const{config:S,setConfig:C}=(0,n.H)(),{setting:T,logined:L,memberInfo:R}=S,{t:I}=(0,c.Bd)(),M=(0,w.zk)(),O=(0,i.zy)(),z=(0,A.bs)(),{snackbars:D,setSnackbars:E,showSnackbar:F}=(0,k.q)(),P=M[2].text_section[0].content.slice(0,7),[W,B]=(0,a.useState)({login:!1,signUp:!1,forgot:!1,newTopic:!1}),[H,U]=(0,a.useState)({newTopic:"",spoilers:!1,reply:"",activeIndex:null}),Z=(0,o.j)(),{forumList:G,isLoading:J,isRefreshing:K}=(0,o.G)((e=>e.forum)),[V,q]=(0,a.useState)(b.Z),[Y,Q]=(new URLSearchParams(O.search),(0,a.useState)((()=>{const e=sessionStorage.getItem("forumTab");return null!==e?e:"all"}))),[X,$]=(0,a.useState)(!1),{ref:ee,inView:se}=(0,d.Wx)(),[te,le]=(0,a.useState)(1),ae=null!==(e=G.list)&&void 0!==e&&e.length?Math.ceil(G.total/10):0,ie=te<=ae&&ae>1,ne=sessionStorage.getItem("forumFrom"),oe=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;Z((0,j.Ah)({isLoading:!0,isLoadMore:e,isRefreshing:s})),s&&(le(1),Z((0,j.f9)("forumList"))),setTimeout((()=>{Z((0,v.e)({mode:t,page:a}))}),l),$(!1)};(0,a.useEffect)((()=>{var e;(0===(null===(e=G.list)||void 0===e?void 0:e.length)||X||"forum"!==ne)&&(z(),oe(!1,!1,Y),sessionStorage.setItem("forumTab",String(Y)),sessionStorage.setItem("forumFrom","forum")),sessionStorage.setItem("fromPage","".concat(O.pathname,"?mode=").concat(Y))}),[null===(s=G.list)||void 0===s?void 0:s.length,X,ne]);const ce=(0,a.useRef)(!1),re=(0,a.useCallback)((()=>{if(!se||!ie||ce.current)return;ce.current=!0;const e=te+1;le(e),oe(!0,!1,Y,1e3,e),setTimeout((()=>{ce.current=!1}),2500)}),[se,ie]);(0,a.useEffect)((()=>{se&&re()}),[se]);const de=async(e,s,t)=>{let a={};if(W.newTopic&&""!==H.newTopic?a=await Z((0,v.T)({comment:e,aid:s})).unwrap():""!==H.reply&&""!==t&&(a=await Z((0,v.T)({comment:e,aid:s,comment_id:t})).unwrap()),200===a.code){const{msg:e,status:s}=a.data;F(e,"ok"!==s?"error":"success"),U((e=>(0,l.A)((0,l.A)({},e),{},{reply:"",newTopic:""}))),B((0,l.A)((0,l.A)({},W),{},{newTopic:!1}))}};return(0,_.jsxs)("div",{className:"min-h-screen",children:[J&&(0,_.jsx)(u.A,{}),(0,_.jsx)(x.A,{currentPage:"forum",setTabChange:$,setMode:Q,mode:Y}),(null===(t=G.list)||void 0===t?void 0:t.length)>0&&(0,_.jsx)(r.u,{completeDelay:1e3,refreshing:K,onRefresh:()=>{oe(!1,!0,Y)},renderText:N.S5,className:"overflow-y-visible",children:(0,_.jsxs)("div",{className:"text-bbk mt-3 pb-10 dark:text-tgy",children:["chat"===Y&&(0,_.jsx)("div",{className:"m-3",children:P.map((e=>(0,_.jsx)("p",{children:e},e)))}),(0,_.jsx)(h.A,{t:I,setting:T,logined:L,list:G.list,isLoading:J,setDialogOpen:B,dialogOpen:W,responds:H,setResponds:U,handleSendRespond:de,showReplySection:!0}),ie&&(0,_.jsx)("button",{ref:ee,onClick:re,className:"w-full flex justify-center pb-40"})]})}),"chat"===Y&&(0,_.jsxs)("div",{className:"w-full fixed bottom-16 bg-bbk h-20 flex items-center justify-center mb-4",children:[(0,_.jsx)("input",{type:"text",maxLength:200,placeholder:I("forum.start_new_topic"),className:"w-10/12 h-10 rounded outline-none p-2",value:H.newTopic,onChange:()=>B((0,l.A)((0,l.A)({},W),{},{[L?"newTopic":"login"]:!0})),onClick:()=>B((0,l.A)((0,l.A)({},W),{},{[L?"newTopic":"login"]:!0}))}),(0,_.jsx)("button",{className:"rounded-full bg-og p-2 ml-2",children:(0,_.jsx)(m.A,{sx:{color:"white",fontSize:18,stroke:"white",strokeWidth:1}})})]}),(0,_.jsx)(g.A,{currentPage:"forum"}),W.newTopic&&(0,_.jsx)(f.A,{setDialogOpen:B,dialogOpen:W,responds:H,setResponds:U,handleSendRespond:de}),(W.login||W.signUp||W.forgot)&&!L&&(0,_.jsx)(p.A,{setFormData:q,formData:V,setConfig:C,logined:L,isLoading:J,setDialogOpen:B,dialogOpen:W,showSnackbar:F}),(0,_.jsx)(y.A,{}),(0,_.jsx)(k.A,{setSnackbars:E,snackbars:D})]})}}}]);
//# sourceMappingURL=838.1511d638.chunk.js.map