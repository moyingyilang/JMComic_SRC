{"version":3,"file":"static/js/874.21303cc4.chunk.js","mappings":"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","sources":["pages/Library/LibraryList.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"../../store/hooks\";\nimport TopBtn from \"../../components/Common/TopBtn\";\nimport { useGlobalConfig } from \"../../GlobalContext\";\nimport { GoBack } from \"../../Hooks\";\nimport { FETCH_CREATOR_AUTHOR_WORK_THUNK } from \"../../actions/creatorAction\";\nimport { LOAD_CREATOR_LIST } from \"../../reducers/creatorReducer\";\nimport CreatorList from \"../../components/Library/CreatorList\";\nimport Loading from \"../../components/Common/Loading\";\nimport SelectMenu from \"../../components/Library/SelectMenu\";\nimport { useTranslation } from \"react-i18next\";\n\nconst LibraryList = () => {\n  const { config } = useGlobalConfig();\n  const { setting, logined } = config;\n  const { t } = useTranslation();\n  const dispatch = useAppDispatch();\n  const { creatorAuthorWorkList, isLoading } = useAppSelector((state) => state.creator);\n  const list = creatorAuthorWorkList.list;\n  const [filter, setFilter] = useState<any>({ language: \"\", source: \"\" });\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const creatorId = searchParams.get(\"creatorId\") as string;\n\n  // GetList\n  const loadList = (isLoadMore: boolean = false, isRefreshing: boolean = false, id: string = creatorId) => {\n    dispatch(LOAD_CREATOR_LIST({ isLoading: true, isLoadMore, isRefreshing }));\n    dispatch(FETCH_CREATOR_AUTHOR_WORK_THUNK({ id, lang: filter.language, source: filter.source }));\n  };\n\n  useEffect(() => {\n    if (creatorId) {\n      loadList();\n    }\n  }, [dispatch, creatorId, filter]);\n\n  return (\n    <>\n      {isLoading && <Loading />}\n      <div className=\"min-h-screen bg-defaultBg dark:bg-bk dark:text-tgy\">\n        <div className=\"sticky top-0 h-16 bg-bbk flex items-end p-2 py-3 z-50\">\n          <GoBack back=\"/library\" />\n        </div>\n        {list && setting && (\n          <div\n            className=\"bg-cover bg-top overflow-hidden px-4 py-2 relative\"\n            style={{\n              backgroundImage: `url(${\n                setting?.img_host && list?.background_image\n                  ? `${setting.img_host}${list.background_image}`\n                  : \"/images/chapter_default.jpg\"\n              })`,\n            }}\n          >\n            <div className=\"absolute inset-0 bg-gray-800 bg-opacity-70 z-0\"></div>\n            <div className=\"flex items-center text-wrap relative z-10\">\n              <div className=\"w-2/6\">\n                <img\n                  src={setting?.img_host && list?.author_avatar && `${setting.img_host}${list.author_avatar}`}\n                  alt={list.author_name}\n                  loading=\"lazy\"\n                  onLoad={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    target.style.opacity = \"1\";\n                  }}\n                  onError={(e) => {\n                    const target = e.target as HTMLImageElement;\n                    target.src = \"/images/ic_head.png\";\n                  }}\n                  style={{\n                    opacity: \"0\",\n                    transition: \"opacity 0.5s ease-in-out\",\n                  }}\n                  className=\"w-32 rounded-xl\"\n                />\n              </div>\n              <div className=\"w-4/6\">\n                <p className=\"absolute top-5 text-og text-3xl\">{list.author_name}</p>\n              </div>\n            </div>\n            <SelectMenu\n              t={t}\n              title=\"creatorAuthorWorkList\"\n              filtersList={creatorAuthorWorkList.filters}\n              filter={filter}\n              setFilter={setFilter}\n            />\n          </div>\n        )}\n        {list?.sponsor?.length > 0 &&\n          list.sponsor.map((d: any, i: number) => (\n            <a key={i} href={d.platform_url} target=\"_blank\" className=\"flex justify-center mt-5\" rel=\"noreferrer\">\n              <button className=\"w-11/12 bg-og rounded p-3 text-left\">\n                {t(\"library.support_author\")} â†’ {d.platform_name}\n              </button>\n            </a>\n          ))}\n        <div className=\"py-8\">\n          {!isLoading && (\n            <CreatorList\n              title=\"creatorAuthorWorkList\"\n              creatorId={creatorId}\n              list={list.related_works}\n              setting={setting}\n            />\n          )}\n        </div>\n        <TopBtn />\n      </div>\n    </>\n  );\n};\n\nexport default LibraryList;\n"],"names":["LibraryList","_list$sponsor","config","useGlobalConfig","setting","logined","t","useTranslation","dispatch","useAppDispatch","creatorAuthorWorkList","isLoading","useAppSelector","state","creator","list","filter","setFilter","useState","language","source","location","useLocation","creatorId","URLSearchParams","search","get","useEffect","isLoadMore","arguments","length","undefined","isRefreshing","id","LOAD_CREATOR_LIST","FETCH_CREATOR_AUTHOR_WORK_THUNK","lang","loadList","_jsxs","_Fragment","children","_jsx","Loading","className","GoBack","back","style","backgroundImage","concat","img_host","background_image","src","author_avatar","alt","author_name","loading","onLoad","e","target","opacity","onError","transition","SelectMenu","title","filtersList","filters","sponsor","map","d","i","href","platform_url","rel","platform_name","CreatorList","related_works","TopBtn"],"sourceRoot":""}