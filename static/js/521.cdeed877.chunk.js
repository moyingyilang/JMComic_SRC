"use strict";(self.webpackChunk_18comic_react=self.webpackChunk_18comic_react||[]).push([[521],{9144:(e,s,t)=>{t.d(s,{A:()=>p});var i=t(9379),a=t(5043),l=t(6580),o=t(7421),n=t(6687),c=t(7225),r=t(9484),d=t(7044),m=t(3944),h=t(7883),x=t(5090),v=t(4117),u=t(4694),g=t(579);const p=e=>{var s;const{setTabChange:t,filter:p,setFilter:f,currentPage:j,catList:b,subList:y,mode:N,setMode:w}=e,{config:k}=(0,m.H)(),{setting:A}=k,{t:_}=(0,v.Bd)(),[T,C]=(0,a.useState)({catMore:!1,imageSource:!1}),S={fontSize:20,stroke:"white",strokeWidth:1},Q=(0,x.hz)(),z=[{icon:(0,g.jsx)(o.A,{sx:(0,i.A)({},S)}),onClick:()=>C((0,i.A)((0,i.A)({},T),{},{imageSource:!0}))},{icon:(0,g.jsx)(n.A,{sx:(0,i.A)({},S)}),link:"/blogs"},{icon:(0,g.jsx)(c.A,{sx:(0,i.A)({},S)}),link:"/week"},{icon:(0,g.jsx)(r.A,{sx:(0,i.A)({},S)}),link:"/search"}];return(0,g.jsxs)("header",{className:"sticky top-0 w-full bg-bbk text-white z-30",children:[(0,g.jsxs)("div",{className:"h-14 flex items-center",children:[(0,g.jsx)("div",{className:"flex w-6/12 pl-3",children:(0,g.jsx)(l.N_,{to:"/",children:(0,g.jsx)("img",{src:"/images/new_logo.webp",alt:"logo",width:"100px",height:"20px",className:"animation-click-item"})})}),(0,g.jsx)("div",{className:"text-white top-bar-icon flex w-6/12 justify-around",children:z.map(((e,s)=>(0,g.jsx)(l.N_,{to:e.link||"#",onClick:e.onClick,children:(0,g.jsx)("button",{className:"animation-click-item",children:e.icon})},s)))})]}),"categories"===j&&(null===(s=b.cat)||void 0===s?void 0:s.length)>0&&(0,g.jsxs)("div",{className:"text-tgy relative bg-nbk",children:[(0,g.jsxs)("div",{className:"h-10 w-11/12 flex items-center overflow-x-auto whitespace-nowrap pr-8",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[b.cat.map(((e,s)=>(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{title:e.name,className:"pl-4 ".concat(p.slug===e.slug?"text-og":""),onClick:()=>{f((0,i.A)((0,i.A)({},p),{},{tabChange:!0,slug:e.slug,sub_slug:"",sort:""})),t(!0)},children:e.name}),0===s&&(0,g.jsx)(l.N_,{to:"/library?from=categories",className:"pl-4",children:_("library.forbidden_comic_library")})]},e.slug))),(0,g.jsx)("div",{className:"bg-bbk p-1 absolute top-0 right-0",children:(0,g.jsx)(h.A,{sx:{fontSize:28,stroke:"#ff6f00",strokeWidth:1,color:"#ff6f00"},onClick:()=>C((0,i.A)((0,i.A)({},T),{},{catMore:!0}))})})]}),(0,g.jsx)("div",{className:"h-10 flex items-center",children:b.ranking.map((e=>(0,g.jsx)("span",{className:"pl-4 ".concat(p.sort===e.key?"text-og":""),onClick:()=>{f((0,i.A)((0,i.A)({},p),{},{sort:e.key})),t(!0)},children:e.title},e.key)))}),y.length>0&&(0,g.jsx)("div",{className:"h-10 flex items-center",children:y.map((e=>(0,g.jsx)("span",{className:"pl-4 ".concat(p.sub_slug===e.slug?"text-og":""),onClick:()=>{t(!0),f((0,i.A)((0,i.A)({},p),{},{sub_slug:e.slug}))},children:e.name},e.slug)))})]}),"forum"===j&&(0,g.jsx)("div",{className:"h-20 w-full text-tgy flex items-end py-2 bg-nbk z-50",children:Q.map((e=>(0,g.jsxs)("div",{className:"relative px-4 text-lg cursor-pointer",onClick:()=>{t(!0),w(e.mode)},children:[(0,g.jsx)("p",{className:"transition-colors duration-300 ".concat(N===e.mode?"text-og pb-2":"pb-3"),children:e.tabName}),N===e.mode&&(0,g.jsx)(u.P.div,{className:"h-1 bg-og rounded",animate:{width:N===e.mode?"100%":"0%"},initial:{width:"0%"},transition:{type:"spring",stiffness:500,damping:30},style:{transformOrigin:"left"}})]},e.mode)))}),T.imageSource&&(0,g.jsx)(d.A,{setDialogOpen:C,dialogOpen:T,setting:A}),T.catMore&&(0,g.jsx)(d.A,{setDialogOpen:C,dialogOpen:T,catList:T.catMore?b:{},setFilter:f,filter:p})]})}},2028:(e,s,t)=>{t.d(s,{A:()=>o});var i=t(5043),a=t(2101),l=t(579);const o=()=>{const[e,s]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=()=>{window.scrollY>500?s(!0):s(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);return(0,l.jsx)(l.Fragment,{children:e&&(0,l.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"w-14 h-14 rounded-full fixed bottom-[10rem] right-3 bg-og text-white z-50",children:(0,l.jsx)(a.A,{})})})}},787:(e,s,t)=>{t.d(s,{A:()=>p});var i=t(5043),a=t(6580),l=t(6148),o=t(9275),n=t(1500),c=t(6671),r=t(9354),d=t(8390),m=t(4149),h=t(4117),x=t(8038),v=t(1100),u=t(3944),g=t(579);const p=e=>{const{currentPage:s}=e,{config:{logined:t,ads:p}}=(0,u.H)(),{t:f}=(0,h.Bd)(),j=(0,l.j)(),{unread:b,notifResult:y}=(0,l.G)((e=>e.member)),N=sessionStorage.getItem("catTab")||"";(0,i.useEffect)((()=>{t&&0===Object.keys(b).length&&j((0,v.Zg)())}),[t,y]);const w=[{icon:(0,g.jsx)(o.A,{className:"text-3xl"}),nav:"main",label:f("nav.home"),link:"/"},{icon:(0,g.jsx)(n.A,{className:"text-3xl"}),nav:"categories",label:f("nav.categories"),link:"/categories?slug=".concat(N)},{icon:(0,g.jsx)(c.A,{className:"text-3xl"}),nav:"games",label:f("nav.game"),link:"/games"},{icon:(0,g.jsx)(r.A,{className:"text-3xl"}),nav:"movies",label:f("nav.movie"),link:"/movies"},{icon:(0,g.jsx)(d.A,{className:"text-3xl"}),nav:"forum",label:f("nav.forum"),link:"/forum"},{icon:(0,g.jsx)(m.A,{className:"text-3xl"}),nav:"member",label:f("nav.member"),link:"/member"}],[k,A]=(0,i.useState)(!1),_=(0,i.useRef)(null);return(0,g.jsxs)(g.Fragment,{children:["forum"!==s&&(0,g.jsx)("div",{ref:_,className:"fixed left-0 right-0 transition-all duration-300 ease-in-out ".concat(k?"bottom-[3rem]":"bottom-[4.5em]"),children:(0,g.jsx)(x.A,{adKey:"board1",closeBtn:!0,handleAdResize:()=>{A(!0)}})}),(0,g.jsx)("div",{className:"fixed bottom-0 left-0 right-0 w-full z-20",children:(0,g.jsx)("div",{className:"flex justify-around items-start bg-bbk text-gy z-50 min-h-[6rem] pt-3 overflow-hidden",children:w.map(((e,i)=>(0,g.jsxs)(a.N_,{to:e.link,className:"animation-click-item flex flex-col items-center relative ".concat(e.nav===s?"text-og":""),children:[(0,g.jsxs)("div",{className:"relative",children:[e.icon,t&&5===i&&b.comic_follow+b.site_notice>0&&(0,g.jsx)("span",{className:"absolute -top-1 -right-5 bg-red-600 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:b.comic_follow+b.site_notice})]}),(0,g.jsx)("span",{className:"text-center",children:e.label})]},i)))})})]})}},7521:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var i=t(5043),a=t(6580),l=t(6148),o=t(2899),n=t(8213),c=t(787),r=t(2028),d=t(9634),m=t(8038),h=t(3865),x=t(579);const v=h.A.apiUrl||"",u=e=>{let{movie:s}=e;const t=(0,a.Zp)(),{selectedVideoType:o,selectedSearchQuery:n}=(0,l.G)((e=>e.movies));if(!s||!Array.isArray(s))return null;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"grid grid-cols-2 gap-2 p-2 ",children:s.map(((e,s)=>{var a;return(0,x.jsxs)(i.Fragment,{children:[(s+1)%10===1&&0!==s&&(0,x.jsx)("div",{className:"col-span-2 flex justify-center",children:(0,x.jsx)("div",{className:"min-h-[70px] w-full bg-white",children:(0,x.jsx)(m.A,{adKey:"app_movies_ten"},s+10)})}),(0,x.jsxs)("div",{onClick:()=>{return s=e.id,void t("/movies/".concat(s,"?videoType=").concat(o,"&searchQuery=").concat(encodeURIComponent(n)));var s},className:"bg-white dark:bg-nbk rounded overflow-hidden shadow cursor-pointer",children:[(0,x.jsx)("div",{className:"aspect-[16/9] overflow-hidden",children:(0,x.jsx)(d.LazyLoadImage,{className:"w-full h-full object-cover",placeholderSrc:"/images/title-circle.webp",src:e.photo.startsWith("http")?e.photo:"".concat(v).concat(e.photo),alt:e.title})}),(0,x.jsxs)("div",{className:"p-2",children:[(0,x.jsx)("p",{className:"line-clamp-1 text-sm font-medium dark:text-white",children:e.title}),(0,x.jsx)("div",{className:"text-xs text-og whitespace-nowrap overflow-auto scrollbar-hidden",children:null===(a=e.tags)||void 0===a?void 0:a.map(((e,s)=>(0,x.jsxs)("span",{className:"mr-1",children:["#",e]},s)))})]})]})]},e.id+s)}))}),(0,x.jsx)("div",{className:"mb-4 flex justify-center w-full",children:(0,x.jsx)(m.A,{adKey:"app_movies_bottom"},1)})]})};var g=t(4975),p=t(50),f=t(3944),j=t(1637),b=t(319),y=t(5412),N=t(5843),w=t(9144),k=t(4117),A=t(5411);const _=()=>{var e,s,t,d;const h=(0,l.j)(),v=(0,a.zy)(),_=(0,a.Zp)(),[T]=(0,a.ok)(),{config:C}=(0,f.H)(),{setting:S,ads:Q}=C,{ref:z,inView:I}=(0,N.Wx)(),[L,R]=(0,i.useState)(1),{t:E}=(0,k.Bd)(),[F,M]=(0,i.useState)(!1);sessionStorage.setItem("fromPage","".concat(v.pathname,"?videoType=").concat(T.get("videoType")||"movie","&searchQuery=").concat(T.get("searchQuery")||""));const{moviesList:O,latestHanime:B,isLoading:K,isLoadMore:P,isRefreshing:W,selectedVideoType:q,selectedSearchQuery:H}=(0,l.G)((e=>e.movies)),U=[{label:E("movies.category.adult"),videoType:"movie",searchQuery:""},{label:E("movies.category.uncensored"),videoType:"movie",searchQuery:E("movies.category.uncensored")},{label:E("movies.category.hanime"),videoType:"video",searchQuery:""},{label:E("movies.category.outflow"),videoType:"iqiye",searchQuery:""},{label:E("movies.category.cosplay"),videoType:"cos",searchQuery:""}],V=null!==(e=O.list)&&void 0!==e&&e.length?Math.ceil(O.total/40):0,Z=L<=V,D=sessionStorage.getItem("movieType"),G=sessionStorage.getItem("movieQuery"),Y=T.get("videoType"),J=T.get("searchQuery"),X=Y||D||"movie",$=J||G||"",ee=U.find((e=>e.videoType===X&&e.searchQuery===$)),se=U.find((e=>e.videoType===X&&""===e.searchQuery)),te=(null===ee||void 0===ee?void 0:ee.label)||(se?se.label+(H?"-".concat(H):""):q),ie=ee?U.findIndex((e=>e.videoType===ee.videoType&&e.searchQuery===ee.searchQuery)):se?U.findIndex((e=>e.videoType===se.videoType&&""===e.searchQuery)):0,ae=(0,i.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;h((0,n.Al)({isLoading:!0,isLoadMore:e,isRefreshing:s})),e||(R(1),h((0,n.gl)("moviesList"))),setTimeout((()=>{h((0,o.pk)({page:i,search_query:"\u65e0\u7801\u7834\u89e3\u7248"===$?"\u99ac\u8cfd\u514b\u7834\u58de\u7248":$,video_type:X}))}),t)}),[h,T]),le=(0,i.useCallback)((()=>{if(Z&&I&&Z){const e=L+1;R(e),ae(!0,!1,1e3,e)}}),[I,Z]);return(0,i.useEffect)((()=>{const e=T.get("videoType")||"movie",s=T.get("searchQuery")||"";h((0,n.F0)(e)),h((0,n.av)(s));(T.get("videoType")||T.get("searchQuery")||!O.list||0===O.list.length)&&setTimeout((()=>{ae(),"video"===e&&h((0,o.RN)({}))}),0)}),[T]),(0,i.useEffect)((()=>{le()}),[le]),(0,x.jsxs)("div",{className:"dark:bg-bbk transition-all duration-300",children:[K&&(0,x.jsx)(A.A,{}),(0,x.jsxs)("div",{className:"sticky top-0 w-full bg-[#242424] text-white z-50",children:[(0,x.jsx)(w.A,{}),(0,x.jsx)("div",{className:"flex items-center space-x-6 p-2",children:U.map(((e,s)=>{let{label:t,videoType:i,searchQuery:a}=e;const l=s===ie;return(0,x.jsx)("button",{onClick:()=>{!function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_("/movies?videoType=".concat(e,"&searchQuery=").concat(encodeURIComponent(s))),sessionStorage.setItem("movieType",e),sessionStorage.setItem("movieQuery",s)}(i,a)},className:"pb-1 ".concat(l?"text-orange-500 border-b-2 border-orange-500":""),children:t},t)}))})]}),(0,x.jsx)(g.RC,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:5e3},pagination:{clickable:!0},modules:[p.Ij,p.dK],onTouchStart:()=>M(!0),onTouchEnd:()=>setTimeout((()=>M(!1)),100),className:"mySwiper h-[250px]",children:null===(s=C.ads.app_movies_top_banner)||void 0===s||null===(t=s.advs)||void 0===t?void 0:t.map(((e,s)=>(0,x.jsx)(g.qr,{children:(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-0 z-10",style:{touchAction:"pan-y",pointerEvents:F?"none":"auto",backgroundColor:"transparent"}}),(0,x.jsx)(m.A,{adKey:"app_movies_top_banner",adIndex:s})]})},s)))}),(0,x.jsxs)(b.u,{completeDelay:1e3,refreshing:W,onRefresh:()=>{ae(!1,!0)},renderText:y.S5,className:"overflow-y-visible",children:["video"===q&&B&&(0,x.jsxs)("div",{className:"p-2",children:[(0,x.jsx)("div",{className:"my-3 dark:text-white",children:E("movies.latest_hanime")}),(0,x.jsx)(g.RC,{modules:[p.s3,p.Ze,p.dK],spaceBetween:8,slidesPerView:2.8,grabCursor:!0,children:B.map(((e,s)=>{let{id:t,photo:i,title:l}=e;return(0,x.jsxs)(g.qr,{children:[(0,x.jsx)(a.N_,{to:"/movies/".concat(t,"?videoType=video&searchQuery=").concat(encodeURIComponent(H||"")),state:{video_type:"video"},children:(0,x.jsx)("img",{className:"w-full h-full object-cover rounded",src:i,alt:l})}),(0,x.jsx)("p",{className:"line-clamp-2 dark:text-white",children:l})]},s)}))})]}),(0,x.jsx)("div",{className:"border-l-4 border-og pl-2 mt-2  dark:text-white",children:te}),(null===O||void 0===O||null===(d=O.list)||void 0===d?void 0:d.length)>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u,{movie:O.list,videoType:q}),(e=>{const s=(null===O||void 0===O?void 0:O.total)||0,t=((null===O||void 0===O||null===(e=O.list)||void 0===e?void 0:e.length)||0)<s;return(0,x.jsx)("button",{ref:z,onClick:le,className:"w-full flex justify-center pb-40",children:t?(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(j.A,{color:"inherit",size:12}),(0,x.jsx)("p",{className:"ml-2",children:E("movies.loading")})]}):(0,x.jsx)("p",{className:"text-center",children:E("movies.no_more_content")})})})()]})]}),(0,x.jsx)(r.A,{}),(0,x.jsx)(c.A,{currentPage:"movies"})]})}}}]);
//# sourceMappingURL=521.cdeed877.chunk.js.map